// Testing function for libdbquery autogenerated code
#include <string>
#include <iostream>
#include "neuronschema.hpp"



using namespace std;
using namespace neuronSchema;

int main (int argc, char** argv)
{
	cout << "Testing function for libdbquery autogenerated code" << endl;
	// Load the NeuronSchema object
	neuronSchema::neuronSchema sc("host=localhost dbname=neurondb user=neuron  password=neuron");
	//Perform Connection
	sc.connectDB();
	//Query the database
	ptbody bodypt = sc.gtbody(1);
	//Print out the data
	cout << "Body Name: " << bodypt->name << endl;
	// Perform an Insert
	ptbody bodyptNew = sc.inserttbody("Earthshine");
	// Commit the transaction here
	sc.saveTransactions();
	// Get the ID
	cout << "New Body Name: " << bodyptNew->getName() << endl;
	// Print out the data
	cout << "New Body ID: " << bodyptNew->getId() << endl;
	//Fetch a new Identifier
	ptbody bodyptNew2 = sc.gtbody(bodyptNew->getId());
	// Make sure we got the right name
	cout << "New Body ID: " << bodyptNew2->getName() << endl;
}
